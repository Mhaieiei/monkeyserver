<script>
   

    function deleteRow(row)
    {

        var i=row.parentNode.parentNode.rowIndex;
        document.getElementById('subjecttable').deleteRow(i);
        var rowind = i-1;
        console.log(rowind);
        document.getElementById('arrlen').value = rowind;
        console.log("value="+document.getElementById('arrlen').value);
    }


    function insRow()
    {
        
        console.log( 'hi');
        var x=document.getElementById('subjecttable');
        var y=document.getElementById('subjectbody');
        var new_row = x.rows[1].cloneNode(true);
        console.log(new_row);
        var len = x.rows.length;

        new_row.cells[0].innerHTML = len;
        console.log(len);
        var inp1 = new_row.cells[1].getElementsByTagName('input')[0];
        
        var inp2 = new_row.cells[2].getElementsByTagName('input')[0];
      
        var inp3 = new_row.cells[3].getElementsByTagName('input')[0];
        
        var inp4 = new_row.cells[4].getElementsByTagName('input')[0];
       
        var inp5 = new_row.cells[5].getElementsByTagName('input')[0];
        var inp6 = new_row.cells[6].getElementsByTagName('input')[0];
      
      y.appendChild( new_row );
      rowind++;
      console.log(rowind);
      document.getElementById('arrlen').value = rowind;
      console.log("value="+document.getElementById('arrlen').value);
    }
    


</script>
         <!-- Page Heading -->
        


            <h3>Select program </h3>
           
                
                    <br>
                        <form class="form-horizontal" role="form" action="/admin/addsubprogram" method="post">
                            <p hidden> 
                            <input type="text" tabindex="1"  name="arrlen" id="arrlen" value={{len}} readonly=""><br>    
                            <input type="text" tabindex="1"  name="acid" value ="{{acid}}" readonly=""><br>
                            <input type="text" tabindex="1"  name="year" value="{{subprogram.Year}}" readonly="">
                            <input type="text" tabindex="1"  name="semes" value= "{{subprogram.semester}}" readonly="">
                            </p>

                            <h5>Plan: {{subprogram.plan}}</h5>

                            <div class="form-group">
                             <div>
                              <label for="inputType" class="col-md-3control-label" >Year Level : {{subprogram.Year}} Semester : {{subprogram.semester}} </label>
                             </div>
                            </div>


                            
                    
                  
                        <div id="tab_2"><table class="table muffin" id="subjecttable">
                        <thead>
                            <tr>
                            <th >Index</th>
                            <th>Subject code</a></th>
                            <th>Subject name</a></th>
                            <th>Subject Lecturer</a></th>
                            <th>Subject Credits</a></th>
                            <th>Plan</a></th>
                            <th>Add</a></th>          
                            <th>Delete</a></th>                    
                            </tr>
                        </thead>
                        <tbody id="subjectbody">
                        	{{#each subprogram.subject}}
	                            <tr>
	                            <td>{{inc @index}}</td>
	                            <td><input type="text" id="subject_code" name="subject_code" value={{subcode.sub_code}} readonly></td>
	                            <td><input width="300" type="text" name="subject_name" value="{{subcode.sub_name}}" readonly></td>
	                            <td>
                                {{#each subcode.sub_lecter}}
                                    <input type="text" name="subject_lec" placeholder="{{local.title}}{{local.name}}" value='{{_id}}' readonly>
                                {{/each}}
                                </td>

	                            <td><input type="text" name="subject_credit" value={{subcode.sub_credit}} readonly > </td>
                                <td><select  id="plan" name="head_programs">

                                    <option></option>
                                    <option></option>
                                </td>

                                <td> <button class="btn btn-xs btn-primary" value="Add" onclick="insRow()"><span class="glyphicon glyphicon-plus"></span> </button></td>
	                            <td>
	                                <button class="btn btn-xs btn-danger" id="delPOIbutton" value="Delete" onclick="deleteRow(this)"><span class="glyphicon glyphicon-trash"></span>
	                                </button>
	                            </td>
	                            </tr>
                            {{/each}}
                            
                        </tbody>
                        </table>
                      
                        
                        
                        <!-- end: table full -->
                    <div class="table-foot muffin"> 
                        
                        <div class="pull-right">
                        <div class="btn-group">
                            <button id="tab_2_unselect" class="btn btn-mini" type="button"><i class="glyphicon glyphicon-remove"></i></button>
                            <button id="tab_2_selectall" class="btn btn-mini" type="button">All</button>
                        </div>
                        
                        <div class="btn-group">
                            <button id="tab_2_submit" class="btn btn-mini" type="button">Import</button>
                        </div>
                        <div class="btn-group">
                            <button id="tab_2_submit" class="btn btn-mini" type="button">Export</button>
                        </div>
                                    
                       
                        <div class="btn-group">
                            <button id="tab_2_submit" class="btn btn-primary" type="submit">Submit</button>
                        </div>
                        </div>  
                        
                    </div>
                            <br>
                            <br>
                            

                        </td>
                    </tr>
                
                </div>
        </form>