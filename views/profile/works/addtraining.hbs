<script>

$(document).ready(function() {
  $("#typepublic").change(function() { 
  if($(this).data('options') == undefined){
      /*Taking an array of all options-2 and kind of embedding it on the select1*/
      $(this).data('options',$('#sub_programs option').clone());
      } 
  var id = $(this).val();
  var options = $(this).data('options').filter('[id=' + id + ']');
  $('#sub_programs').html(options);
  });
});

  var array = [];
  var rowind = 1;
  function deleteRow(row)
  {
      var i=row.parentNode.parentNode.rowIndex;
      document.getElementById('userTable').deleteRow(i);
      rowind--;
      document.getElementById('arrlen').value = rowind;
      console.log("value="+document.getElementById('arrlen').value);
  }


  function insRow()
  {
    
      console.log( 'hi');
      var x=document.getElementById('userTable');
      var y =document.getElementById('usertbody');
      var new_row = x.rows[1].cloneNode(true);
      var len = x.rows.length;
      
     
      var inp0 = new_row.cells[0].getElementsByTagName('input')[0];
      //inp0.value = '';
      var inp1 = new_row.cells[1].getElementsByTagName('input')[0];
      //inp1.value = '';
      var inp2 = new_row.cells[2].getElementsByTagName('input')[0];
      var inp3 = new_row.cells[3].getElementsByTagName('input')[0];
      // inp3.value = '';
      // var inp4 = new_row.cells[4].getElementsByTagName('input')[0];
      // inp4.value = '';
      console.log(new_row);
      y.appendChild( new_row );
      rowind++;
      console.log(rowind);
      document.getElementById('arrlen').value = rowind;
      console.log("value="+document.getElementById('arrlen').value);
   
  }
  
  
  
  
</script>
<div class="container">
 <form class="form-horizontal" role="form"  action="" method="post" id = "myForm" > 
      
          <p hidden>    
            <input type="text" tabindex="1"  name="arrlen" id="arrlen" value='1' readonly=""><br>
            <input type="text" class="form-control" name="username" id="inputType" value={{username}}>
          </p>
           <h3>Add new training course</h3>
          <div class="form-group"> 
              <label for="inputType" class="col-md-2 control-label">Name of Traning course: </label>
              <div class="col-md-4">
                    <input type="text" class="form-control" name="namepublic" id="inputType">
              </div>     
                  
              <label for="inputType" class="col-md-1 control-label">Hours: </label>
              <div class="col-md-4">
                 <input type="text" class="form-control" id="inputType" name="program">
              </div>

          </div>

          <div class="form-group">
                      <label for="inputType" class="col-md-2 control-label">Acedamic Year : </label>
                      <div class="col-md-4">        
                      <select class="form-control" style="width:100px" name="acyear">
                                  <option value="2012">2012</option>
                                  <option value="2013">2013</option>
                                  <option value="2014">2014</option>
                                  <option value="2015">2015</option>
                                  <option value="2016">2016</option>
                      </select> 
                      </div>
                      
                      <label for="inputType" class="col-md-1 control-label">User: </label>
                      <div class="col-md-4">
                         <div id="tab_2">
                          <table id="userTable" class="tablesorter">
                              <thead>
                                  <tr>
                                  
                                  <th><a>Username</a></th>
                                  <th><a>Type User.</a></th>
                                  <th><a>Delete</a></th>
                                  <th><a>Add</a></th>
                                  </tr>
                              </thead>
                              <tbody id = "usertbody">
                                   <tr>
                                        
                                        <td><input  type="text" name="nameuser" id="latbox"/></td>
                                        
                                        <td>
                                          <div class="col-md-4">
                                                      <select class="form-control" style="width:100px" name="roleuser">
                                                        <option value="advisee">advisee</option>
                                                        <option value="advisor">advisor</option>                                     
                                                     </select>
                                                  </div>
                                                  </td>
                                        <td>
                                      <button class="btn btn-xs btn-warning" id="delPOIbutton" value="Delete" onclick="deleteRow(this)">
                                      <span class="glyphicon glyphicon-trash"></span>
                                    </button>
                                    </td>             
                                     <td> <button class="btn btn-xs btn-primary" id="insertbutton" value="Insert" onclick="insRow()"><span class="glyphicon glyphicon-plus"></span></button>
                                    </td> 
                                </tr>                    
                              </tbody>
                           </table>
                          </div>

                      
                      <div class="table-foot muffin"> 
                        
                        <div class="pull-right">
                         <div class="btn-group">
                          <button id="tab_2_submit" class="btn btn-mini" type="button" onclick="insRow()">Insert</button>
                      </div>
                      </div>
                     </div>
            </div>
          </div>
           <div class="form-group">      
              
                  <p align = "right"><button id="tab_2_submit" class="btn btn-primary" type="submit">Submit</button></p>
              

          </div>

</form>
             
</div>  
  
   

